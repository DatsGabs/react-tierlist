var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,s=(e,t)=>{for(var r in t||(t={}))n.call(t,r)&&l(e,r,t[r]);if(o)for(var r of o(t))i.call(t,r)&&l(e,r,t[r]);return e},a=(e,o)=>t(e,r(o));import{r as c,R as d,P as p,C as m,a as u,h as f,q as w,D as x,b as E}from"./vendor.1f5a2b57.js";var b={container:"_container_psygx_1",title:"_title_psygx_9",row:"_row_psygx_33",carrousel:"_carrousel_psygx_41"};var g="_item_zks7n_1",y=c.exports.memo((function({item:e,index:t}){return d.createElement(p,{draggableId:e.id,index:t},(t=>d.createElement("div",a(s(s({},t.draggableProps),t.dragHandleProps),{ref:t.innerRef,className:g}),e.content)))})),v=c.exports.memo((function({row:e}){const[t,r]=c.exports.useState(!0),[o,n]=c.exports.useState(e.title),{tierlist:i,setTierlist:l}=c.exports.useContext(I);return d.createElement(m,{onClickAway:()=>{if(t)return;r(!0);const n=s({},i);n.rows[e.id].title=o,l(n)}},t?d.createElement("p",{onDoubleClick:()=>{r(!1)}},o):d.createElement("textarea",{type:"text",value:o,onChange:e=>{n(e.target.value)},onKeyDown:e=>{"Enter"!==e.key&&"Escape"!==e.key||(r(!0),e.preventDefault(),e.stopPropagation())}}))}));function h({row:e,items:t,index:r}){return d.createElement(p,{draggableId:e.id,index:r},(r=>d.createElement("div",a(s({ref:r.innerRef},r.draggableProps),{className:b.wrapper}),d.createElement("div",{className:b.container},d.createElement("div",s({className:b.title,style:{backgroundColor:e.color}},r.dragHandleProps),d.createElement(v,{row:e})),d.createElement(u,{droppableId:e.id,direction:"horizontal"},(e=>d.createElement("div",s({className:b.row,ref:e.innerRef},e.droppableProps),t.map(((e,t)=>d.createElement(y,{item:e,key:e.id,index:t}))),e.placeholder)))))))}function F(){const{tierlist:e}=c.exports.useContext(I),t=e.rows.carrousel.items.map((t=>e.items[t]));return d.createElement(u,{droppableId:"carrousel",direction:"horizontal"},(e=>d.createElement("div",a(s({ref:e.innerRef},e.droppableProps),{className:`${b.row} ${b.carrousel}`}),t.map(((e,t)=>d.createElement(y,{item:e,key:e.id,index:t}))),e.placeholder)))}const C={items:{},rows:{s:{id:"s",title:"S",items:[],color:"#F27778"},a:{id:"a",title:"A",items:[],color:"#FFBF7E"},b:{id:"b",title:"B",items:[],color:"#FFFF7F"},c:{id:"c",title:"C",items:[],color:"#7FFF7F"},d:{id:"d",title:"D",items:[],color:"#7FBFFF"},carrousel:{id:"carrousel",title:"Carrousel",items:[]}},rowOrder:["s","a","b","c","d","carrousel"]};function O(){const{tierlist:e,setTierlist:t}=c.exports.useContext(I);return d.createElement("button",{onClick:()=>(()=>{const r=s({},e),o=`new${(new Date).getTime()}`;r.rows[o]={id:o,title:"new",items:[],color:"red"},r.rowOrder=[...r.rowOrder,o],t(r)})()},"Add another row")}function P(){const{tierlist:e,setTierlist:t}=c.exports.useContext(I);let r;const o=o=>{const n=r.result.split("\n");let i=s({},e);for(const e of n)""!=e&&(i.items[e]={id:e,content:e},i.rows.carrousel.items.push(e));t(i)};return d.createElement("input",{type:"file",id:"file",className:"input-file",accept:".txt",onChange:e=>{const t=e.target.files[0];r=new FileReader,r.onloadend=o,r.readAsText(t)}})}function _({target:e}){c.exports.useEffect((()=>{console.log(e)}),[e]);return d.createElement("button",{onClick:()=>{f(e.current).then((e=>{const t=e.toDataURL("image/png");var r;r=t,window.open().document.write('<iframe src="'+r+'" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>')}))}},"Take Screenshot")}const k=w.div`
    display: flex;
    flex-direction: column;
    width: 85%;
    margin: auto;
`,I=d.createContext();function D(){const[e,t]=c.exports.useState(C),r=c.exports.useRef(null);return d.createElement(I.Provider,{value:{tierlist:e,setTierlist:t}},d.createElement(k,{ref:r},d.createElement(x,{onDragEnd:r=>{const{destination:o,source:n,draggableId:i,type:l}=r;if(!o)return;if(o.droppableId===n.droppableId&&o.index===n.index)return;if("row"==l){const r=[...e.rowOrder];r.splice(n.index,1),r.splice(o.index,0,i);const l=a(s({},e),{rowOrder:r});return void t(l)}const c=e.rows[n.droppableId],d=e.rows[o.droppableId];if(c===d){const r=[...c.items];r.splice(n.index,1),r.splice(o.index,0,i);const l=a(s({},c),{items:r}),d=a(s({},e),{rows:a(s({},e.rows),{[l.id]:l})});t(d)}else{const r=[...c.items];r.splice(n.index,1);const l=a(s({},c),{items:r}),p=[...d.items];p.splice(o.index,0,i);const m=a(s({},d),{items:p}),u=a(s({},e),{rows:a(s({},e.rows),{[l.id]:l,[m.id]:m})});t(u)}}},d.createElement(u,{droppableId:"all-rows",type:"row",direction:"vertical"},(t=>d.createElement("div",s({ref:t.innerRef},t.droppableProps),e.rowOrder.map(((t,r)=>{if("carrousel"==t)return;const o=e.rows[t],n=o.items.map((t=>e.items[t]));return d.createElement(h,{row:o,key:o.id,items:n,index:r})})),t.placeholder,d.createElement(F,null))))),d.createElement(O,null),d.createElement(P,null),d.createElement(_,{target:r})))}function R(){return d.createElement("div",{className:"App"},d.createElement(D,null))}E.render(d.createElement(d.StrictMode,null,d.createElement(R,null)),document.getElementById("root"));
